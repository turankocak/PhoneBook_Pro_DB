				    			 --          *TELEFON REHBERÝ*             -- 

--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////

--create table Telefon_Rehber(Kayýt_ID int primary key identity ,Adi varchar(20),Soyadi varchar(20),Tel_No bigint)

--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////

--create trigger Kayit_Ekle
--on Telefon_Rehber
--instead of insert 
--as
--begin
--print 'Kayýt Ekleme Ýslemi Yapýlýyor'
--declare @kAdi nvarchar(20), @kSoyadi nvarchar(20), @kTel_No bigint
--select  @kAdi=Adi,@kSoyadi=Soyadi,@kTel_No=Tel_No from inserted
--insert  into Telefon_Rehber values(@kAdi,@kSoyadi,@kTel_No)
--print 'Kayýt Eklendi'
--end

--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////

--create trigger Kayit_Silme
--on Telefon_Rehber
--instead of delete
--as
--begin
--print 'Kayýt Silme Ýslemi Yapýlýyor'
--declare @kKayýt_ID int
--select @kKayýt_ID=Kayýt_ID from deleted
--delete from Telefon_Rehber where Kayýt_ID=@kKayýt_ID
--print 'Kayit Silindi'
--end

--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////

--create trigger Kayit_Guncelle
--on Telefon_Rehber
--instead of update
--as
--begin
--print 'Kayýt Guncelleme Ýslemi Yapýlýyor'
--declare @kKayýt_ID int , @kAdi nvarchar(20), @kSoyadi nvarchar(20), @kTel_No bigint
--select  @kAdi=Adi,@kSoyadi=Soyadi,@kTel_No=Tel_No from inserted
--select @kKayýt_ID=Kayýt_ID from deleted
--update Telefon_Rehber set Adi=@KAdi,Soyadi=@KSoyadi,Tel_No=@kTel_No where Kayýt_ID=@kKayýt_ID
--print 'Kayýt Eklendi'
--end

--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////

--create procedure Kayit_Getir
--as
--select * from Telefon_Rehber

--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////

--create procedure Harf_Siralamasi
--as
--select  Adi, Soyadi,Tel_No from Telefon_Rehber order by Adi

--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////

--create procedure Kayit_Ara
--@harf nvarchar(20),@no bigint
--as
--select * from Rehber where Adi Like '%'+@harf+'%' OR Soyadi Like '%'+@harf+'%' OR Tel_No Like '%'+@no+'%'

--//////////////////////////////////////////////////////////////////////////////////////////////////////////////
--insert into Telefon_Rehber values('Sevgi','Demir',05474856320)         --**KAYIT EKLE**--
--//////////////////////////////////////////////////////////////////////////////////////////////////////////

--//////////////////////////////////////////////////////////////////////////////////////////////////////////////
--delete from Telefon_Rehber where Kayýt_ID=4                                  --**KAYIT SÝL**--
--//////////////////////////////////////////////////////////////////////////////////////////////////////////////

--/////////////////////////////////////////////////////////////////////////////////////////////////////////////
--update Telefon_Rehber set Adi='Mesut',Soyadi='Koçak' ,Tel_No=05538456241  where Kayýt_ID=3   --**KAYIT GUNCELLE**--
--/////////////////////////////////////////////////////////////////////////////////////////////////////////////

--///////////////////////////////////////////////////////////////////////////////////////////////////////////

--exec Kayit_Getir                                --**KAYITLARI LÝSTELE**--
--//////////////////////////////////////////////////////////////////////////////////////////////////////////

--//////////////////////////////////////////////////////////////////////////////////////////////////////////
--exec Kayit_Ara 'Ahmet'                          --**KAYIT ARA**
--///////////////////////////////////////////////////////////////////////////////////////////////////////////

--///////////////////////////////////////////////////////////////////////////////////////////////////////////
--exec Harf_Siralamasi                             --**HARFE GÖRE SIRALA**--
--/////////////////////////////////////////////////////////////////////////////////////////////////////////////
